<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <meta charset="UTF-8">
    <title>Dashboard - RoadTranspancy Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-gradient: linear-gradient(to right, #4a90e2, #50e3c2);
            --highlight-color: #4a90e2;

            --background-color: #f4f7f9;
            --surface-color: #ffffff;
            --text-color: #333333;
            --light-text-color: #666666;
            --card-shadow: 0 5px 20px rgba(0,0,0,0.08);
            --danger-color: #ff5e62;
            --hover-danger-color: #ff9966;
        }
        body {
            margin: 0;
            font-family: 'Roboto', sans-serif;
            display: flex;
            min-height: 100vh;
            background: var(--background-color);
            color: var(--text-color);
        }
        /* Sidebar */
        .sidebar {
            width: 250px;
            background: var(--primary-gradient);
            color: var(--surface-color);
            padding: 20px;
            display: flex;
            flex-direction: column;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }
        .sidebar h2 {
            margin-top: 0;
            font-size: 24px;
            margin-bottom: 30px;
        }
        .sidebar a {
            color: var(--surface-color);
            text-decoration: none;
            margin: 10px 0;
            font-weight: 500;
            padding: 10px;
            border-radius: 8px;
            transition: all 0.3s;
        }
        .sidebar a:hover {
            background: rgba(255,255,255,0.2);
        }

        /* Main content */
        .main {
            flex: 1;
            padding: 30px;
        }
        .main h1 {
            margin-top: 0;
            color: var(--text-color);
        }

        /* Stats cards */
        .stats {
            display: flex;
            gap: 20px;
            margin-bottom: 40px;
        }
        .card {
            background: var(--surface-color);
            flex: 1;
            padding: 20px;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            text-align: center;
        }
        .card h3 {
            margin: 10px 0;
            font-size: 20px;
            color: var(--highlight-color);
        }
        .card p {
            font-size: 24px;
            font-weight: 700;
            margin: 0;
        }

        /* Description Section */
        .description-section {
            background: var(--surface-color);
            padding: 30px;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            margin-top: 40px;
            text-align: left;
            transition: transform 0.3s ease-in-out; /* Smooth transition */
        }
        .description-section:hover {
            transform: scale(1.01); /* Slightly zoom in on hover */
        }
        .description-section h2 {
            margin-top: 0;
            color: var(--highlight-color);
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 5px;
            margin-bottom: 20px;
            text-align: center;
        }
        .description-section p {
            line-height: 1.5;
            transition: color 0.3s ease-in-out; /* Smooth transition for text color */
        }
        .description-section:hover p {
            color: #222; /* Slightly darker text on hover */
        }

        /* Feature List Section */
        .feature-list {
            background: var(--surface-color);
            padding: 30px;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            margin-top: 40px;
            text-align: left;
        }
        .feature-list h2 {
            margin-top: 0;
            color: var(--highlight-color);
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 5px;
            margin-bottom: 20px;
            text-align: center;
        }
        .feature-list ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }
        .feature-list li {
            margin-bottom: 15px;
            line-height: 1.5;
        }
        .feature-list a {
            display: block;
            padding: 15px;
            background: var(--primary-gradient);
            color: var(--surface-color);
            text-decoration: none;
            border-radius: 10px;
            font-weight: bold;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .feature-list a:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .feature-list a span.icon {
            font-size: 1.2em;
            margin-right: 10px;
        }

        /* Quick Action Buttons - Removed as per previous request */
        /*
        .quick-actions {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 40px;
        }
        .quick-actions a {
            background: var(--primary-gradient);
            padding: 20px 30px;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            text-decoration: none;
            color: var(--surface-color);
            font-weight: bold;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .quick-actions a:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            background: var(--primary-gradient);
        }
        */

        /* Newsletter */
        .newsletter {
            background: var(--primary-gradient);
            padding: 30px;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            margin-top: 40px;
            text-align: center;
            color: var(--surface-color);
        }
        .newsletter h2 {
            margin-top: 0;
            color: var(--surface-color);
            border-bottom: 2px solid rgba(255,255,255,0.5);
            padding-bottom: 5px;
            margin-bottom: 20px;
        }
        .newsletter form {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        .newsletter input[type="email"] {
            flex: 1;
            padding: 12px;
            border-radius: 10px;
            border: 1px solid #ccc;
            outline: none;
            min-width: 200px;
        }
        .newsletter button {
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            background: var(--surface-color);
            color: var(--highlight-color);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }
        .newsletter button:hover {
            background: var(--text-color);
            color: var(--surface-color);
        }

        /* Logout button */
        .logout {
            margin-top: auto;
            padding-top: 20px;
        }
        .logout a {
            display: inline-block;
            padding: 10px;
            background: var(--danger-color);
            border-radius: 10px;
            color: var(--surface-color);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
        }
        .logout a:hover {
            background: var(--hover-danger-color);
        }
    </style>
</head>
<body>
    <div class="sidebar">
        {% if session.get('user_type') == 'citizen' %}
        <h2>RoadTranspancy Portal</h2>
        <a href="{{ url_for('dashboard') }}">ÓÅûÂå† Dashboard</a>
        <a href="{{ url_for('tenders') }}">ÓÅûÊ∑ò Tenders</a>
        <a href="{{ url_for('report') }}">ÓÅûÁµ± Reports</a>
        <a href="{{ url_for('feedback') }}">ÓÅûÁî∫ Feedback</a>
        {% elif session.get('user_type') == 'contractor' %}
        <h2>Contractor Portal</h2>
        <a href="{{ url_for('contractor_dashboard') }}">üìã My Projects</a>
        {% endif %}

        <div class="logout">
            <a href="{{ url_for('logout') }}">Logout</a>
        </div>
    </div>

    <div class="main">
        <h1>Welcome, {{ username }}!</h1>

        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div style="color: var(--danger-color); margin-bottom: 15px;">
                    {% for message in messages %}
                        <p>{{ message }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <div class="stats">
            <div class="card">
                <h3>Total Tenders</h3>
                <p>{{ stats.tenders_count }}</p>
            </div>
            <div class="card">
                <h3>My Reports</h3>
                <p>{{ stats.my_reports }}</p>
            </div>
            <div class="card">
                <h3>Total Feedbacks</h3>
                <p>{{ stats.ratings_count }}</p>
            </div>
        </div>

        <div class="description-section">
            <h2>Welcome to RoadTender Connect</h2>
            <p>
                Our platform bridges the gap between government road projects and citizens by increasing transparency and accountability. Here, you can access detailed information about ongoing and upcoming road tenders, project timelines, funding, and locations.
                Additionally, citizens can provide feedback or submit reports about road work in their area, helping authorities ensure quality and timely completion. Together, we make road development more transparent, efficient, and citizen-friendly.
            </p>
        </div>

        <div class="feature-list">
            <h2>Quick Actions</h2>
            <ul>
                <li>
                    <a href="{{ url_for('tenders') }}"><span class="icon">üìã</span> View All Tenders</a>
                </li>
                <li>
                    <a href="{{ url_for('report') }}"><span class="icon">üö®</span> Submit a Report</a>
                </li>
                <li>
                    <a href="{{ url_for('feedback') }}"><span class="icon">üìù</span> Give Feedback</a>
                </li>
            </ul>
        </div>

        <div class="newsletter">
            <h2>Contact Us</h2>
            <p>Subscribe to our newsletter for updates</p>
            <form>
                <input type="email" placeholder="Your email">
                <button type="submit">Subscribe</button>
            </form>
        </div>
    </div>
</body>
</html>